<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <title>MLB Showdown</title>
    <style>
        body {
            margin: 0;
            height: 100vh;
            width: 100wh;
            overflow: scroll;
            background-color: black;
        }
        #bg-field {
            position: absolute;
            height: 1500px;
            width: 3000px;
            border-bottom: 300px solid black;
            border-left: 50px solid black;
            border-right: 50px solid black;
            z-index: -2; 
        }
        #dice-container {
            position: absolute;
            height: 1800px;
            width: 3100px;
            z-index: 1;
        }
        .card {
            position: absolute;
            height: 150px;
            width: 100px;
            border-radius: 3px;
            cursor: pointer;
            border: 1px solid rgba(0, 0, 0, 0);
            z-index: 0;
        }
        .card-container {
            position: absolute;
            height: 150px;
            width: 100px;
            border-radius: 3px;
            z-index: -1;
        }
        .border-white { border: 1px solid white; }
        .pitcher { left: 833px; top: 525px; }
        .batter { left: 833px; top: 740px; }
    </style>
</head>
<body>
    <img id="bg-field" src="imgs/field.jpg">
    <div id="dice-container"></div>

    <!-- js -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.14.0/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>

    <script src="js/three.min.js"></script>
    <script src="js/cannon.min.js"></script>
    <script src="js/teal.js"></script>
    <script src="js/dice.js"></script>

    <script>
        async function init() {
            const data = await (await fetch("data.json")).json();

            let x = 850;
            let y = 1550;

            data.cards["2025"]["1B"].forEach((card) => {
                $("body").append(`
                    <div class="card-container border-white" style="top: ${y}px; left: ${x}px;"></div>
                    <img
                        src="imgs/cards/2025/1B/${card}.png"
                        class="card"
                        style="top: ${y}px; left: ${x}px;"
                    >
                `);
                x += 120;
            });

            $(".card").draggable({ snap: ".card-container", snapMode: "inner" });
            window.scrollTo(600, 400);

            const dice = new DICE.dice_box(document.querySelector("#dice-container"));
            dice.setDice("1d20");
            dice.bind_swipe(document.querySelector("#dice-container"), () => {}, () => {});
            dice.start_throw();
        }
        
        $(document).ready(init);
    </script>
</body>
